{% load static %}

<!-- Estrutura principal do seu site (copiada do seu template inicial) -->
<!DOCTYPE html>
<html lang="pt-br">

    <head>
        <meta charset="UTF-8">
        <link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
        <link rel="stylesheet" href="{% static 'css/main.css' %}">
        <title>VirSec - Lista de Alunos</title>
    </head>

    <body>
        <!-- Barra de navegação lateral -->
        <aside class="sidebar">
            <div class="sidebar-brand">
                <h4><i class="bi bi-mortarboard"></i>VirSec</h4>
                <p>Gerenciamento Escolar</p>
            </div>
            <ul class="sidebar-nav">
                <!-- Link atualizado para a lista de alunos -->
                <li><a href="{% url 'alunos:aluno_list' %}"><i class="bi bi-people-fill"></i> Alunos</a></li>
                <li><a href="#turmas"><i class="bi bi-door-closed"></i> Turmas</a></li>
                <li><a href="#boletins"><i class="bi bi-file-earmark-pdf"></i> Boletins</a></li>
                <li><a href="#notas"><i class="bi bi-star-fill"></i> Notas</a></li>
            </ul>
        </aside>

        <!-- Barra do titulo  -->
        <header class="header">
            <h1><i class="bi bi-people-fill"></i> Lista de Alunos</h1>
        </header>

        <!-- CONTEÚDO ESPECÍFICO DA LISTA DE ALUNOS COMEÇA AQUI -->
        <main class="main-content">
            
            <div class="container mt-5">
                <h2>Alunos Cadastrados</h2>

                {% if alunos %}
                <table class="table table-striped table-hover">
                    <thead>
                        <tr>
                            <th scope="col">Matrícula</th>
                            <th scope="col">Nome</th>
                            <th scope="col">CPF</th>
                            <th scope="col">Idade</th>
                            <th scope="col">Nascimento</th>
                            <th scope="col">Data de Cadastro</th>
                            <th scope="col">Ações</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for aluno in alunos %}
                        <tr>
                            <td>{{ aluno.matricula }}</td>
                            <td>{{ aluno.nome }}</td>
                            <td>{{ aluno.cpf|default:"N/A" }}</td>
                            <td>{{ aluno.idade }}</td>
                            <td>{{ aluno.nascimento|date:"d/m/Y" }}</td>
                            <td>{{ aluno.data_cadastro|date:"d/m/Y H:i" }}</td>
                            <td>
                                <!-- Adicione aqui links para editar ou excluir -->
                                <a href="#" class="btn btn-sm btn-info"><i class="bi bi-pencil"></i> Editar</a>
                                <a href="#" class="btn btn-sm btn-danger"><i class="bi bi-trash"></i> Excluir</a>
                            </td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
                {% else %}
                <div class="alert alert-warning" role="alert">
                    Nenhum aluno cadastrado.
                </div>
                {% endif %}
            </div>
        </main>

    </body>

</html>
